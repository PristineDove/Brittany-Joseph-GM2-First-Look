<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
	<head>
		<!-- EDIT THIS-->
		<title>Tutorial - GameMaker First Look - Ch2 - Page 4</title>
		<!-- DO NOT EDIT THIS-->
		<meta http-equiv="X-UA-Compatible" content="IE=9" />
		<link rel="stylesheet" href="../style.css" type="text/css" media="screen" title="style" charset="UTF-8"/>
		<script type="text/javascript">
			var changePage = function(){
				var newPage = document.getElementById("page-select");
				window.location.replace(newPage.value);
				}
		</script>

	</head>

<!-- EDIT THIS - This section is where you can add an index to your tutorial -->
<body>
<!-- EDIT THIS - Your Tutorial title -->
	<h2 style="border-radius:0.5em 0.5em 0 0; margin:0;">Tutorial - First Look</h2>
<!-- EDIT THIS - Here you list the pages in your tutorial, with the current one at the top -->
		<div class="head">
			<select id="page-select" onChange="changePage()">
				
				<optgroup label="Logic, Positioning & Errors">
					<option value="page05.html">Positioning on Screen Part III</option>
					<option value="page06.html">Errors</option>
				</optgroup>
				<optgroup label="Movement">
					<option value="../ch3/page01.html">Moving NPC</option>
					<option value="../ch3/page02.html">Moving Player</option>
				</optgroup>
				<optgroup label="---Previous Pages">
					<optgroup label="Chapter 1 - Manipulating Text">
						<option value="../page01.html"><b>Hello World</b></option>
						<option value="../ch1/page02.html">Variables</option>
						<option value="../ch1/page03.html">Data Types</option>
						<optgroup label="Logic, Positioning & Errors">
					<option value="page01.html">If Statements</option>
					<option value="page02.html">Loops</option>
					<option value="page03.html">Positioning on Screen Part I</option>
					<option value="page04.html">Positioning on Screen Part II</option>
					</optgroup>
					</optgroup>
	
				</optgroup>
			</select>
		</div>
	
<!-- EDIT THIS - Main tutorial body goes here -->
<div class="body-scroll">

<p>
	If you want to see tutorial in a separate web browswer window <a href="gms2tutorials:///openBrowser">click here</a>.

<p style="color:rgb(85, 109, 130)">
	<b>Positioning on Screen Part III</b>

<p>
	We will be using a different event type to rotate the object.  Since this is not just happening on one frame we need to rotate it every frame.  This is the perfect time to use our second event type a <tt><b>Step</b></tt> event.  Press the <tt><b>Add Event</b></tt> and select <tt><b>Step | Step</b></tt> from the menu.

<p>
	<img class="center" src="http://marcaubanel.com/gamemaker/GMS2-Images/Intro-To-Game-Maker/CH2/AddStepToSquareObject.png" alt="Add step event to square object">	

<p>
	To rotate the player there is a variable that is used to determine the angle the player is facing at.  The variable is called <b><a href="gms2tutorials:///ShowHelp?tag=image_angle">image_angle</a></b>.

<p>
	<tt><b>image_angle</b></tt> is set by changing its angle in degrees.	To rotate counter-clockwise we add degrees positively then we rotate clockwise by subtracting degrees.  You can see below that a round trip is 360 degrees.

<p>
	<img class="center" src="http://marcaubanel.com/gamemaker/GMS2-Images/Intro-To-Game-Maker/CH2/RotationsUsingImageAngle.png" alt="Illustration of 360 degrees representing rotation in gamemaker">	

<p>
	We will start by rotating counter-clockwise.  We will add 5 degrees every frame.  The level defaults to 30 frames a second so it will be rotating 5 * 30 = 150 degrees per second. To alter the <tt><b>image_angle</b></tt> variable we will add 5 degrees to itself.  So it starts at 0, goes to 5 in the second frame, 10 in the third frame, 15 in the fourth frame etc...

<p>
	<img class="center" src="http://marcaubanel.com/gamemaker/GMS2-Images/Intro-To-Game-Maker/CH2/RotateSquareStep.png" alt="Add 5 degrees per frame to image_angle in step event">	

<p>
	Run the game by pressing the <img style="vertical-align:middle" src="http://marcaubanel.com/gamemaker/GMS2-Images/Shared/Icon_RunProject.png"> <b>Play Button</b>. Notice that the axis the sprite rotates around is its origin.  This is at the top left corner.  

<p>
	<img class="center" src="http://marcaubanel.com/gamemaker/GMS2-Images/Intro-To-Game-Maker/CH2/TopLeftSquareRotation.gif" alt="Square sprite in game rotating around it top left corner where the origin is located">	

<p>
	Now lets prove that this is true.  If this is the case the triangle should rotate on its center.  Lets add a <tt><b>Step | Step</b></tt> event to <tt><b>obj_triangle</b></tt> by pressing the <tt><b>Add Event</b></tt> button.

<p>
	<img class="center" src="http://marcaubanel.com/gamemaker/GMS2-Images/Intro-To-Game-Maker/CH2/AddStepToTriangle.gif" alt="Add setp event to obj_triangle">	

<p>
	Lets rotate the triangle clockwise so we will subtract by <tt>5</tt> each frame. So it starts at 0, goes to -5 in the second frame, -10 in the third frame, -15 in the fourth frame etc... Add the following script to <tt><b>obj_triangle</b></tt>:

<p>
	<img class="center" src="http://marcaubanel.com/gamemaker/GMS2-Images/Intro-To-Game-Maker/CH2/TriangleStepRotate.png" alt="Subtract 5 degrees per frame for image_angle in obj_triangle">	

<p>
	Run the game again by pressing the <img style="vertical-align:middle" src="http://marcaubanel.com/gamemaker/GMS2-Images/Shared/Icon_RunProject.png"> <tt><b>Play Button</b></tt>. Notice that the triangle rotates on the axis whose origin is centered horizontally and vertically wihin the sprite:
<p>
	<img class="center" src="http://marcaubanel.com/gamemaker/GMS2-Images/Intro-To-Game-Maker/CH2/TriangleSquareRotate.gif" alt="Triangle rotates clockwise around its middle center origin">	

<p>
	Now lets fix the origin on the square so it is positioned in the center and rotates in the middle of the sprite.  Open <tt><b>spr_square</b></tt> and click on the drop down menu that says <tt><b>Top Left</b></tt>.  Select <tt><b>Middle Center</b></tt> instead.  Look at the target reticule update automatically:
<p>
	<img class="center" src="http://marcaubanel.com/gamemaker/GMS2-Images/Intro-To-Game-Maker/CH2/CenterOriginOnSquare.gif" alt="Adjust origin of obj_square to middle center">	

<p>
	Run the game again by pressing the <img style="vertical-align:middle" src="http://marcaubanel.com/gamemaker/GMS2-Images/Shared/Icon_RunProject.png"> <tt><b>Play Button</b></tt>. Notice that the square is now centered vertically and rotates on its center.

	<p>
	<img class="center" src="http://marcaubanel.com/gamemaker/GMS2-Images/Intro-To-Game-Maker/CH2/SquareVertCenterRotate.gif" alt="Run game and square is centered and rotates correctly on its middle center">	

<p>
	Now lets get the circle positioned properly.  Add a <tt><b>Variable Definition</b></tt> to <tt><b>obj_circle</b></tt> called <tt><b>line_height</b></tt> and set it to <tt><b>22</b></tt>.

<p>
	<img class="center" src="http://marcaubanel.com/gamemaker/GMS2-Images/Intro-To-Game-Maker/CH2/AddLineHeightToCircle.png" alt="Add a line_height variable set to 22 to obj_circle">	

<p>
	We need to position it in the center.  Now we need to add a <tt><b>Create</b></tt> event to <tt><b>obj_circle</b></tt>:

<p>
	<img class="center" src="http://marcaubanel.com/gamemaker/GMS2-Images/Intro-To-Game-Maker/CH2/AddCreateEventToCircle.png" alt="Change origin of spr_circle to middle center">	

<p>
	Where is the far right side of the room?  We can open up our current room and look to see what the width is.  It is set to <tt>1024</tt>.  We could use this number but it would be hard coding the value.  We might want to adjust the room size when we are making changes later on.  There is a variable called <b><a href="gms2tutorials:///ShowHelp?tag=room_width">room_width</a></b> that holds this value.

<p>
	<img class="center" src="http://marcaubanel.com/gamemaker/GMS2-Images/Intro-To-Game-Maker/CH2/RoomWidthSize.png" alt="Show room setting that shows values for height and width">	

<p>
	Ok, lets set the y on the y-axis to the 25th line and set the x to <tt>room_width</tt>.  Type the below script in <tt><b>obj_circle: Create</b></tt> event.

<p>
	<img class="center" src="http://marcaubanel.com/gamemaker/GMS2-Images/Intro-To-Game-Maker/CH2/ObjCircleCreateScriptWrong.png" alt="Set the height and width for location in room">		
	
<p>
	Run the game again by pressing the <img style="vertical-align:middle" src="http://marcaubanel.com/gamemaker/GMS2-Images/Shared/Icon_RunProject.png"> <b>Play Button</b>. Woops we have a major problem.  It looks like there is nothing in the room.  We do not see the circle at all.  Now that does not mean it is not in the game, it just means that it is not in the room.  In fact, it is one pixel outside the room on the right.  Since we have put it on the very right hand side of the room and its origin is on its left side it is just outside the room.  In the image below the dotted circle represents the approximate position of this sprite that we can't see.

<p>
	<img class="center" src="http://marcaubanel.com/gamemaker/GMS2-Images/Intro-To-Game-Maker/CH2/CircleOutOfRoom.png" alt="Run game but obj_circle is off screen to the right and cannot be seen">		
	
<p>
	Open up <tt><b>spr_circle</b></tt> and center the origin like we did previously on the other two sprites:

<p>
	<img class="center" src="http://marcaubanel.com/gamemaker/GMS2-Images/Intro-To-Game-Maker/CH2/CenterOriginOnCircle.gif" alt="Center origin on spr_circle">	

<p>
	Run the game by pressing the <img style="vertical-align:middle" src="http://marcaubanel.com/gamemaker/GMS2-Images/Shared/Icon_RunProject.png"> <b>Play Button</b>. Now that is a bit better now only half the sprite is off the screen.  This makes sense as it puts the origin (center of the circle) at the right edge of the screen.  We need to move it to the left by half a sprite width:

<p>
	<img class="center" src="http://marcaubanel.com/gamemaker/GMS2-Images/Intro-To-Game-Maker/CH2/HalfCircleOffScreen.png" alt="Run game and circle is half off screen to the right">		

<p>
	Go back to <tt><b>obj_circle</b></tt> and adjust its <tt><b>Create</b></tt> script by subtracting <tt><b>sprite_width * .5</b></tt> (same as dividing <tt>sprite_get_width(spr_circle)</tt> by two).  Notice that we put it in parenthesis.  We do not need to do this is because it will do the multiplication BEFORE the subtraction but we are doing it to be clear on what we intend to do.

<p>
	<img class="center" src="http://marcaubanel.com/gamemaker/GMS2-Images/Intro-To-Game-Maker/CH2/SubtractHalfSprite.png" alt="subtract half of the sprite_width for x position of obj_circle">		

<p>
	Run the game again by pressing the <img style="vertical-align:middle" src="http://marcaubanel.com/gamemaker/GMS2-Images/Shared/Icon_RunProject.png"> <tt><b>Play Button</b></tt>. Now all the sprites are positioned properly!

<p>
	<img class="center" src="http://marcaubanel.com/gamemaker/GMS2-Images/Intro-To-Game-Maker/CH2/TriangleAndSquareRotateProperly.gif" alt="All three objects positioned correctly">		

<p>
	Now you can finish this room off yourself by rotating the circle in a new step event.  Also, make sure you put a mark on the circle to actually see the rotation (a solid color will appear not to move). It should looks something like this:

<p>
	<img class="center" src="http://marcaubanel.com/gamemaker/GMS2-Images/Intro-To-Game-Maker/CH2/AllThreeRotating.gif" alt="Add eye to obj_circle so we can see the rotation">		

<p>
	In the next section we will look at errors.


<br>
</p>
<p>

</div>

<div class="footer">
	<div class="buttons">
		<div class="clear">
			<div style="float:left">
				<a href="../page04.html"  class="prev">
				<div id="button-prev"></div> 
				</a>
			</div>
			<div style="float:right"> <!-- Set the next page to go to here -->
				<a href="page06.html" class="next">
					<div id="button-next"></div>
				</a>
			</div>
		</div>	
	</div>
<!-- Footer copyright notice - set this to your own or whatever is required (remove the text but leave the <h5> tags to just have the bar) -->
<h5>&copy; Copyright Mauby Games 2018</h5>
</div>

</body>
</html>



